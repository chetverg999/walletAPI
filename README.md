# Wallet API

Приложение для управления кошельками через REST API. Оно поддерживает операции пополнения и снятия средств, а также возможность получения баланса кошелька.

## Стек технологий
- Golang
- PostgreSQL
- Docker
- Docker Compose

## Описание функционала

### Endpoints

1. **POST /api/v1/wallet**

   Запрос для выполнения операции с кошельком.

   **Тело запроса:**
   ```json
   {
     "walletId": "UUID",
     "operationType": "DEPOSIT" | "WITHDRAW",
     "amount": 1000
   }
  

**Описание полей:**
- `walletId`: UUID кошелька (например, `fbd9a77e-059d-4f38-a681-e3c8fba23cd3`)
- `operationType`: Тип операции (`DEPOSIT` или `WITHDRAW`)
- `amount`: Сумма операции

2. **GET /api/v1/wallets/{walletId}**

   Запрос для получения баланса кошелька.

   **Пример запроса:**
   ```bash
   GET /api/v1/wallets/fbd9a77e-059d-4f38-a681-e3c8fba23cd3
   ```

   **Пример ответа:**
   ```json
   {
     "walletId": "fbd9a77e-059d-4f38-a681-e3c8fba23cd3",
     "amount": 1500
   }
   ```

### Проблемы в конкурентной среде

- Для обеспечения корректной работы при высоком уровне параллельных запросов (1000 RPS) используется блокировка на уровне базы данных, чтобы предотвратить гонки данных.
- Каждый запрос должен быть обработан корректно, без 50x ошибок.

## Запуск приложения


## Проблемы и ограничения

- Необходимо обеспечить корректную работу при высокой нагрузке (1000 RPS).
- При конкурентных операциях с кошельком важно использовать механизмы блокировки на уровне базы данных для предотвращения гонок данных.
- Необходимо обработать все ошибки корректно, чтобы избежать 50x ошибок.

## Лицензия

Проект выпущен под лицензией MIT. См. LICENSE для подробностей.
```

### Дополнительные замечания:

1. Вам нужно будет настроить и протестировать работу с PostgreSQL в Docker. Обратите внимание на правильную настройку переменных окружения в `config.env`.
2. В тестах можно добавить более сложные кейсы, например, проверку операций при одновременных запросах или ситуации с недостаточным балансом.
